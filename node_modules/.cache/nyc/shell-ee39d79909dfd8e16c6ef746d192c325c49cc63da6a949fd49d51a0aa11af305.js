"use strict";function cov_1d7dzlwyue(){var path="/Users/rhysd/Develop/github.com/rhysd/action-setup-vim/src/shell.js";var hash="f5d9090860e4a3241f2d6985be081358b8edc649";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/rhysd/Develop/github.com/rhysd/action-setup-vim/src/shell.js",statementMap:{"0":{start:{line:2,column:0},end:{line:2,column:62}},"1":{start:{line:3,column:0},end:{line:3,column:22}},"2":{start:{line:4,column:15},end:{line:4,column:39}},"3":{start:{line:8,column:16},end:{line:8,column:26}},"4":{start:{line:9,column:4},end:{line:16,column:5}},"5":{start:{line:10,column:8},end:{line:15,column:9}},"6":{start:{line:11,column:22},end:{line:11,column:38}},"7":{start:{line:12,column:12},end:{line:14,column:13}},"8":{start:{line:13,column:16},end:{line:13,column:29}},"9":{start:{line:17,column:4},end:{line:17,column:15}},"10":{start:{line:20,column:16},end:{line:24,column:5}},"11":{start:{line:25,column:21},end:{line:37,column:5}},"12":{start:{line:30,column:16},end:{line:30,column:46}},"13":{start:{line:33,column:16},end:{line:33,column:46}},"14":{start:{line:38,column:17},end:{line:38,column:60}},"15":{start:{line:39,column:4},end:{line:45,column:5}},"16":{start:{line:40,column:8},end:{line:40,column:26}},"17":{start:{line:43,column:23},end:{line:43,column:56}},"18":{start:{line:44,column:8},end:{line:44,column:104}},"19":{start:{line:47,column:0},end:{line:47,column:20}}},fnMap:{"0":{name:"getEnv",decl:{start:{line:7,column:9},end:{line:7,column:15}},loc:{start:{line:7,column:22},end:{line:18,column:1}},line:7},"1":{name:"exec",decl:{start:{line:19,column:15},end:{line:19,column:19}},loc:{start:{line:19,column:37},end:{line:46,column:1}},line:19},"2":{name:"(anonymous_2)",decl:{start:{line:29,column:12},end:{line:29,column:13}},loc:{start:{line:29,column:25},end:{line:31,column:13}},line:29},"3":{name:"(anonymous_3)",decl:{start:{line:32,column:12},end:{line:32,column:13}},loc:{start:{line:32,column:25},end:{line:34,column:13}},line:32}},branchMap:{"0":{loc:{start:{line:8,column:16},end:{line:8,column:26}},type:"binary-expr",locations:[{start:{line:8,column:16},end:{line:8,column:20}},{start:{line:8,column:24},end:{line:8,column:26}}],line:8},"1":{loc:{start:{line:10,column:8},end:{line:15,column:9}},type:"if",locations:[{start:{line:10,column:8},end:{line:15,column:9}},{start:{line:10,column:8},end:{line:15,column:9}}],line:10},"2":{loc:{start:{line:12,column:12},end:{line:14,column:13}},type:"if",locations:[{start:{line:12,column:12},end:{line:14,column:13}},{start:{line:12,column:12},end:{line:14,column:13}}],line:12},"3":{loc:{start:{line:39,column:4},end:{line:45,column:5}},type:"if",locations:[{start:{line:39,column:4},end:{line:45,column:5}},{start:{line:39,column:4},end:{line:45,column:5}}],line:39}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0},f:{"0":0,"1":0,"2":0,"3":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0]},inputSourceMap:{version:3,file:"shell.js",sourceRoot:"",sources:["shell.ts"],names:[],mappings:";;;AAAA,wCAAiD;AASjD,iDAAiD;AACjD,uDAAuD;AACvD,SAAS,MAAM,CAAC,IAAU;IACtB,MAAM,GAAG,GAAQ,IAAI,IAAI,EAAE,CAAC;IAC5B,KAAK,MAAM,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;QACxC,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,QAAQ,CAAC,EAAE;YAC3B,MAAM,CAAC,GAAG,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YAC3B,IAAI,CAAC,KAAK,SAAS,EAAE;gBACjB,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;aAChB;SACJ;KACJ;IACD,OAAO,GAAG,CAAC;AACf,CAAC;AAEM,KAAK,UAAU,IAAI,CAAC,GAAW,EAAE,IAAc,EAAE,IAAc;IAClE,MAAM,GAAG,GAAG;QACR,MAAM,EAAE,EAAE;QACV,MAAM,EAAE,EAAE;QACV,IAAI,EAAE,IAAI;KACb,CAAC;IAEF,MAAM,QAAQ,GAAG;QACb,GAAG,EAAE,IAAI,EAAE,GAAG;QACd,GAAG,EAAE,MAAM,CAAC,IAAI,EAAE,GAAG,CAAC;QACtB,SAAS,EAAE;YACP,MAAM,CAAC,IAAY;gBACf,GAAG,CAAC,MAAM,IAAI,IAAI,CAAC,QAAQ,EAAE,CAAC;YAClC,CAAC;YACD,MAAM,CAAC,IAAY;gBACf,GAAG,CAAC,MAAM,IAAI,IAAI,CAAC,QAAQ,EAAE,CAAC;YAClC,CAAC;SACJ;QACD,gBAAgB,EAAE,IAAI,EAAE,uDAAuD;KAClF,CAAC;IAEF,MAAM,IAAI,GAAG,MAAM,IAAA,WAAQ,EAAC,GAAG,EAAE,IAAI,EAAE,QAAQ,CAAC,CAAC;IAEjD,IAAI,IAAI,KAAK,CAAC,EAAE;QACZ,OAAO,GAAG,CAAC,MAAM,CAAC;KACrB;SAAM;QACH,MAAM,MAAM,GAAG,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC;QACjD,MAAM,IAAI,KAAK,CAAC,YAAY,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,4BAA4B,IAAI,KAAK,MAAM,EAAE,CAAC,CAAC;KACnG;AACL,CAAC;AA7BD,oBA6BC"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f5d9090860e4a3241f2d6985be081358b8edc649"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1d7dzlwyue=function(){return actualCoverage;};}return actualCoverage;}cov_1d7dzlwyue();cov_1d7dzlwyue().s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_1d7dzlwyue().s[1]++;exports.exec=void 0;const exec_1=(cov_1d7dzlwyue().s[2]++,require("@actions/exec"));// Avoid leaking $INPUT_* variables to subprocess
//   ref: https://github.com/actions/toolkit/issues/309
function getEnv(base){cov_1d7dzlwyue().f[0]++;const ret=(cov_1d7dzlwyue().s[3]++,(cov_1d7dzlwyue().b[0][0]++,base)??(cov_1d7dzlwyue().b[0][1]++,{}));cov_1d7dzlwyue().s[4]++;for(const key of Object.keys(process.env)){cov_1d7dzlwyue().s[5]++;if(!key.startsWith('INPUT_')){cov_1d7dzlwyue().b[1][0]++;const v=(cov_1d7dzlwyue().s[6]++,process.env[key]);cov_1d7dzlwyue().s[7]++;if(v!==undefined){cov_1d7dzlwyue().b[2][0]++;cov_1d7dzlwyue().s[8]++;ret[key]=v;}else{cov_1d7dzlwyue().b[2][1]++;}}else{cov_1d7dzlwyue().b[1][1]++;}}cov_1d7dzlwyue().s[9]++;return ret;}async function exec(cmd,args,opts){cov_1d7dzlwyue().f[1]++;const res=(cov_1d7dzlwyue().s[10]++,{stdout:'',stderr:'',code:null});const execOpts=(cov_1d7dzlwyue().s[11]++,{cwd:opts?.cwd,env:getEnv(opts?.env),listeners:{stdout(data){cov_1d7dzlwyue().f[2]++;cov_1d7dzlwyue().s[12]++;res.stdout+=data.toString();},stderr(data){cov_1d7dzlwyue().f[3]++;cov_1d7dzlwyue().s[13]++;res.stderr+=data.toString();}},ignoreReturnCode:true// Check exit status by myself for better error message
});const code=(cov_1d7dzlwyue().s[14]++,await(0,exec_1.exec)(cmd,args,execOpts));cov_1d7dzlwyue().s[15]++;if(code===0){cov_1d7dzlwyue().b[3][0]++;cov_1d7dzlwyue().s[16]++;return res.stdout;}else{cov_1d7dzlwyue().b[3][1]++;const stderr=(cov_1d7dzlwyue().s[17]++,res.stderr.replace(/\r?\n/g,' '));cov_1d7dzlwyue().s[18]++;throw new Error(`Command '${cmd} ${args.join(' ')}' exited non-zero status ${code}: ${stderr}`);}}cov_1d7dzlwyue().s[19]++;exports.exec=exec;//# sourceMappingURL=shell.js.map
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJtYXBwaW5ncyI6ImtnSkFvQks7d05BcEJMLGdFQVNBO0FBQ0E7QUFDQSxRQUFTQSxPQUFULENBQWdCQyxJQUFoQixDQUEwQix5QkFDdEIsS0FBTUMsSUFBRywwQkFBUSxnQ0FBSSwrQkFBSSxFQUFKLENBQVosQ0FBVCxDQURzQix3QkFFdEIsSUFBSyxLQUFNQyxJQUFYLEdBQWtCQyxPQUFNLENBQUNDLElBQVAsQ0FBWUMsT0FBTyxDQUFDQyxHQUFwQixDQUFsQixDQUE0Qyx5QkFDeEMsR0FBSSxDQUFDSixHQUFHLENBQUNLLFVBQUosQ0FBZSxRQUFmLENBQUwsQ0FBK0IsNEJBQzNCLEtBQU1DLEVBQUMsMEJBQUdILE9BQU8sQ0FBQ0MsR0FBUixDQUFZSixHQUFaLENBQUgsQ0FBUCxDQUQyQix3QkFFM0IsR0FBSU0sQ0FBQyxHQUFLQyxTQUFWLENBQXFCLG9EQUNqQlIsR0FBRyxDQUFDQyxHQUFELENBQUgsQ0FBV00sQ0FBWCxDQUNILENBRkQsaUNBR0gsQ0FMRCxpQ0FNSCxDQVRxQix3QkFVdEIsTUFBT1AsSUFBUCxDQUNILENBRU0sY0FBZVMsS0FBZixDQUFvQkMsR0FBcEIsQ0FBaUNDLElBQWpDLENBQWlEQyxJQUFqRCxDQUErRCx5QkFDbEUsS0FBTUMsSUFBRywyQkFBRyxDQUNSQyxNQUFNLENBQUUsRUFEQSxDQUVSQyxNQUFNLENBQUUsRUFGQSxDQUdSQyxJQUFJLENBQUUsSUFIRSxDQUFILENBQVQsQ0FNQSxLQUFNQyxTQUFRLDJCQUFHLENBQ2JDLEdBQUcsQ0FBRU4sSUFBSSxFQUFFTSxHQURFLENBRWJiLEdBQUcsQ0FBRVAsTUFBTSxDQUFDYyxJQUFJLEVBQUVQLEdBQVAsQ0FGRSxDQUdiYyxTQUFTLENBQUUsQ0FDUEwsTUFBTSxDQUFDTSxJQUFELENBQWEsa0RBQ2ZQLEdBQUcsQ0FBQ0MsTUFBSixFQUFjTSxJQUFJLENBQUNDLFFBQUwsRUFBZCxDQUNILENBSE0sQ0FJUE4sTUFBTSxDQUFDSyxJQUFELENBQWEsa0RBQ2ZQLEdBQUcsQ0FBQ0UsTUFBSixFQUFjSyxJQUFJLENBQUNDLFFBQUwsRUFBZCxDQUNILENBTk0sQ0FIRSxDQVdiQyxnQkFBZ0IsQ0FBRSxJQUFNO0FBWFgsQ0FBSCxDQUFkLENBY0EsS0FBTU4sS0FBSSwyQkFBRyxLQUFNLGdCQUFTTixHQUFULENBQWNDLElBQWQsQ0FBb0JNLFFBQXBCLENBQVQsQ0FBVixDQXJCa0UseUJBdUJsRSxHQUFJRCxJQUFJLEdBQUssQ0FBYixDQUFnQixxREFDWixNQUFPSCxJQUFHLENBQUNDLE1BQVgsQ0FDSCxDQUZELElBRU8sNEJBQ0gsS0FBTUMsT0FBTSwyQkFBR0YsR0FBRyxDQUFDRSxNQUFKLENBQVdRLE9BQVgsQ0FBbUIsUUFBbkIsQ0FBNkIsR0FBN0IsQ0FBSCxDQUFaLENBREcseUJBRUgsS0FBTSxJQUFJQyxNQUFKLENBQVUsWUFBWWQsR0FBRyxJQUFJQyxJQUFJLENBQUNjLElBQUwsQ0FBVSxHQUFWLENBQWMsNEJBQTRCVCxJQUFJLEtBQUtELE1BQU0sRUFBdEYsQ0FBTixDQUNILENBQ0osQyx5QkE3QkRXIiwibmFtZXMiOlsiZ2V0RW52IiwiYmFzZSIsInJldCIsImtleSIsIk9iamVjdCIsImtleXMiLCJwcm9jZXNzIiwiZW52Iiwic3RhcnRzV2l0aCIsInYiLCJ1bmRlZmluZWQiLCJleGVjIiwiY21kIiwiYXJncyIsIm9wdHMiLCJyZXMiLCJzdGRvdXQiLCJzdGRlcnIiLCJjb2RlIiwiZXhlY09wdHMiLCJjd2QiLCJsaXN0ZW5lcnMiLCJkYXRhIiwidG9TdHJpbmciLCJpZ25vcmVSZXR1cm5Db2RlIiwicmVwbGFjZSIsIkVycm9yIiwiam9pbiIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsic2hlbGwudHMiXSwic291cmNlc0NvbnRlbnQiOltudWxsXX0=